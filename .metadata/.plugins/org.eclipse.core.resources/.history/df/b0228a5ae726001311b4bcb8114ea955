package ui;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.EventListener;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.border.LineBorder;



/**
 * Hält alle Panels für die Mainsite und die Teamansicht
 * @author Katy
 *
 */
public class MainPanel extends JPanel {

	private JLabel teamnameLabel;//Teamname
	private JButton button;
	
	private JComboBox teamChoice;//Teamauswahlbox
	private TickerPanel tickerPanel;//Enthält News und Transferticker
	private TeamAttributePanel teamAttributePanel;
	
	private PlayerPanel playerPanel;
	private PlayerPanel playerPanel2;

	
	public MainPanel(){
		//null-Layout -  alle Elemente sind frei positionierbar
		this.setLayout(null);
		
		initLabel();
		initTeamChoiceComboBox();
		initTickerPanel();
		initPlayerPanel();
		initTeamAttributePanel();
		
		
		this.add(teamnameLabel);
		
		this.add(teamChoice);
		this.add(tickerPanel);
		this.add(teamAttributePanel);	
		
		this.add(playerPanel);
		this.add(playerPanel2);
		
		playerPanel.setVisible(false);
		playerPanel2.setVisible(false);
		teamAttributePanel.setVisible(false);
		
	}

	private void initTeamAttributePanel() {
		teamAttributePanel = new TeamAttributePanel();
		
	}

	/**
	 * Initialisiert (die) Playerpanel mit Bild, Name und Attributen
	 */
	private void initPlayerPanel(){
		playerPanel = new PlayerPanel();
		playerPanel2 = new PlayerPanel();
		
		playerPanel.setBounds(310,50,320,160);
		playerPanel2.setBounds(640,50,320,160);
		
		playerPanel.addListener(this);
	}
	
	/**
	 * Initialisiert die Tickerpanel mit News- und Transferticker
	 */
	private void initTickerPanel() {
		tickerPanel =  new TickerPanel();
	}

	/**
	 * Initialisiert die Teamview
	 */
	private void initTeamViewPanels() {
		teamAttributePanel = new TeamAttributePanel();
	}

	
	/**
	 * Initialisiert die Teamauswahlbox
	 */
	private void initTeamChoiceComboBox() {
		String [] teams = {"DummyTeam 1", "dummyTeam2 ", "dummyTeam3"}; // TODO: aus Datenbank
		
		teamChoice = new JComboBox(teams);
		teamChoice.setSelectedIndex(0);
		teamChoice.setBackground(Color.PINK);
		teamChoice.setBounds(1010,50,250,30);
		teamChoice.addActionListener(new ActionListener() {
			
			
			/**
			 * Aktiviert durch Auswählen eines Teams, die Teamansicht
			 */
			@Override
			public void actionPerformed(ActionEvent arg0) {
				teamnameLabel.setText((String) teamChoice.getSelectedItem());	
				tickerPanel.setVisible(false);		
				playerPanel.setVisible(true);
				playerPanel2.setVisible(true);
				teamAttributePanel.setVisible(true);
			}

		});
		
	}
	
	
	
	/**
	 * Erstellt das Label und passt es an 
	 */
	private void initLabel(){
		teamnameLabel = new JLabel("Teamname");
		teamnameLabel.setSize(200, 50);	
		teamnameLabel.setBounds(400, 10, 200, 30);
		teamnameLabel.setBorder(new LineBorder(Color.BLACK));

		teamnameLabel.setFont(new Font("Arial", Font.BOLD, 36));
		teamnameLabel.setVisible(true);	
	}


	public void addNavigation(NavigationPanel navi) {
		this.add(navi);
		
	}

	public void addPlayer(PlayerPanel playerPanel) {
		this.add(PlayerPanel);
		
	}

}
